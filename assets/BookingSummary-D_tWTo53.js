import{j as s,u as e,h as a,m as i,R as n}from"./index-DzaH6n5y.js";import{B as l}from"./Button-BO3q_CR1.js";import{s as r}from"./Booking.module-D7FNbwNS.js";const c="_priceBreakdown_izwfs_1",t="_priceRow_izwfs_17",d="_total_izwfs_26",o="_divider_izwfs_33",m=({basePrice:e,seatCount:a,totalPrice:i})=>s.jsxs("div",{className:c,children:[s.jsx("h2",{children:"Price Breakdown"}),s.jsxs("div",{className:t,children:[s.jsx("span",{children:"Base Price (per seat)"}),s.jsxs("span",{children:["P",e.toFixed(2)]})]}),s.jsxs("div",{className:t,children:[s.jsxs("span",{children:["Seats (",a,")"]}),s.jsxs("span",{children:["× ",a]})]}),s.jsxs("div",{className:t,children:[s.jsx("span",{children:"Service Fee"}),s.jsx("span",{children:"P0.00"})]}),s.jsx("div",{className:o}),s.jsxs("div",{className:`${t} ${d}`,children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["P",i.toFixed(2)]})]})]}),h=()=>{const c=e(),t=a(),{selectedRoute:d,selectedSeats:o,passengerDetails:h}=i();n.useEffect(()=>{},[t.pathname,d,o,h]);if(!d||!o||0===o.length)return c("/booking/seat-selection"),null;if(!h||0===h.length||h.length!==o.length)return c("/booking/passenger-details"),null;const j=d.price*o.length;return s.jsxs("div",{className:r.bookingScreen,children:[s.jsxs("div",{className:r.bookingHeader,children:[s.jsx("button",{className:r.backButton,onClick:s=>{try{c("/home")}catch(e){}},children:"← Back"}),s.jsx("h1",{children:"Booking Summary"})]}),s.jsxs("div",{className:r.bookingContent,children:[s.jsxs("div",{className:r.summarySection,children:[s.jsx("h2",{children:"Trip Details"}),s.jsx("div",{className:r.tripInfo,children:s.jsxs("div",{className:r.routeInfo,children:[s.jsxs("span",{className:r.route,children:[d.origin," → ",d.destination]}),s.jsxs("span",{className:r.time,children:[d.departure_time," - ",d.arrival_time]}),s.jsx("span",{className:r.duration,children:d.duration})]})})]}),s.jsxs("div",{className:r.summarySection,children:[s.jsx("h2",{children:"Selected Seats"}),s.jsx("div",{className:r.seatsList,children:o.map(e=>s.jsx("span",{className:r.seatBadge,children:e},e))})]}),s.jsxs("div",{className:r.summarySection,children:[s.jsx("h2",{children:"Passengers"}),s.jsx("div",{className:r.passengersList,children:h.map((e,a)=>s.jsxs("div",{className:r.passengerItem,children:[s.jsx("span",{className:r.passengerName,children:(null==e?void 0:e.fullName)||"N/A"}),s.jsxs("span",{className:r.passengerSeat,children:["Seat ",(null==e?void 0:e.seatNumber)||o[a]||"N/A"]})]},a))})]}),s.jsx(m,{basePrice:d.price,seatCount:o.length,totalPrice:j}),s.jsx("div",{className:r.bookingFooter,children:s.jsx(l,{onClick:()=>{c("/booking/payment")},children:"Continue to Payment"})})]})]})};export{h as default};
