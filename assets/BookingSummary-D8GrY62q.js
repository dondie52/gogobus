import{j as e,u as s,k as i,o as a}from"./index-Bg8klbPp.js";import{B as n}from"./Button-DYnsDmDG.js";import{s as t}from"./Booking.module-aEmucKHr.js";const l="_priceBreakdown_izwfs_1",r="_priceRow_izwfs_17",c="_total_izwfs_26",d="_divider_izwfs_33",o=({basePrice:s,seatCount:i,totalPrice:a})=>e.jsxs("div",{className:l,children:[e.jsx("h2",{children:"Price Breakdown"}),e.jsxs("div",{className:r,children:[e.jsx("span",{children:"Base Price (per seat)"}),e.jsxs("span",{children:["P",s.toFixed(2)]})]}),e.jsxs("div",{className:r,children:[e.jsxs("span",{children:["Seats (",i,")"]}),e.jsxs("span",{children:["× ",i]})]}),e.jsxs("div",{className:r,children:[e.jsx("span",{children:"Service Fee"}),e.jsx("span",{children:"P0.00"})]}),e.jsx("div",{className:d}),e.jsxs("div",{className:`${r} ${c}`,children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["P",a.toFixed(2)]})]})]}),h=()=>{const l=s();i();const{selectedRoute:r,selectedSeats:c,passengerDetails:d}=a();if(!r||!c||0===c.length)return l("/booking/seat-selection"),null;if(!d||0===d.length||d.length!==c.length)return l("/booking/passenger-details"),null;const h=r.price*c.length,m=e=>{if(!e)return"N/A";try{const s=new Date(e),i=s.toLocaleDateString("en-BW",{day:"numeric",month:"short",year:"numeric"});return`${i} • ${s.toLocaleTimeString("en-BW",{hour:"2-digit",minute:"2-digit",hour12:!0})}`}catch(s){return e}};return e.jsxs("div",{className:t.bookingScreen,children:[e.jsxs("div",{className:t.bookingHeader,children:[e.jsx("button",{className:t.backButton,onClick:()=>{if(null==r?void 0:r.id){const e=c.length||d.length||1;l(`/booking/seats/${r.id}?passengers=${e}`)}else window.history.length>1?l(-1):l("/home")},children:"← Back"}),e.jsx("h1",{children:"Booking Summary"})]}),e.jsxs("div",{className:t.bookingContent,children:[e.jsxs("div",{className:t.summarySection,children:[e.jsx("h2",{children:"Trip Details"}),e.jsxs("div",{className:t.tripCard,children:[e.jsxs("div",{className:t.routeTimeline,children:[e.jsxs("div",{className:t.timelinePoint,children:[e.jsx("div",{className:t.timelineDot,children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:e.jsx("circle",{cx:"6",cy:"6",r:"6"})})}),e.jsxs("div",{className:t.timelineContent,children:[e.jsx("span",{className:t.timeLabel,children:m(r.departure_time)}),e.jsx("span",{className:t.locationName,children:r.origin}),r.origin_station&&e.jsx("span",{className:t.stationName,children:r.origin_station})]})]}),e.jsx("div",{className:t.timelineLine,children:e.jsxs("div",{className:t.durationBadge,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12,6 12,12 16,14"})]}),e.jsx("span",{children:r.duration})]})}),e.jsxs("div",{className:t.timelinePoint,children:[e.jsx("div",{className:`${t.timelineDot} ${t.destination}`,children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",children:e.jsx("circle",{cx:"6",cy:"6",r:"6"})})}),e.jsxs("div",{className:t.timelineContent,children:[e.jsx("span",{className:t.timeLabel,children:m(r.arrival_time)}),e.jsx("span",{className:t.locationName,children:r.destination}),r.destination_station&&e.jsx("span",{className:t.stationName,children:r.destination_station})]})]})]}),e.jsxs("div",{className:t.tripMeta,children:[e.jsxs("div",{className:t.metaItem,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsxs("div",{className:t.metaContent,children:[e.jsx("span",{className:t.metaLabel,children:"Date"}),e.jsx("span",{className:t.metaValue,children:(e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-BW",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}catch(s){return e}})(r.date)})]})]}),e.jsxs("div",{className:t.metaItem,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M8 6v6l4 2"}),e.jsx("path",{d:"M3 12a9 9 0 1 0 18 0 9 9 0 1 0-18 0"})]}),e.jsxs("div",{className:t.metaContent,children:[e.jsx("span",{className:t.metaLabel,children:"Duration"}),e.jsx("span",{className:t.metaValue,children:r.duration})]})]}),r.bus_type&&e.jsxs("div",{className:t.metaItem,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M8 6v6l4 2"}),e.jsx("rect",{x:"3",y:"3",width:"18",height:"14",rx:"2"}),e.jsx("path",{d:"M5 17v2"}),e.jsx("path",{d:"M19 17v2"}),e.jsx("circle",{cx:"7",cy:"14",r:"1.5"}),e.jsx("circle",{cx:"17",cy:"14",r:"1.5"})]}),e.jsxs("div",{className:t.metaContent,children:[e.jsx("span",{className:t.metaLabel,children:"Bus Type"}),e.jsx("span",{className:t.metaValue,children:r.bus_type})]})]}),r.operator&&e.jsxs("div",{className:t.metaItem,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsxs("div",{className:t.metaContent,children:[e.jsx("span",{className:t.metaLabel,children:"Operator"}),e.jsx("span",{className:t.metaValue,children:r.operator})]})]})]}),r.amenities&&r.amenities.length>0&&e.jsxs("div",{className:t.amenities,children:[e.jsx("span",{className:t.amenitiesLabel,children:"Amenities:"}),e.jsx("div",{className:t.amenitiesList,children:r.amenities.map((s,i)=>e.jsx("span",{className:t.amenityBadge,children:s},i))})]})]})]}),e.jsxs("div",{className:t.summarySection,children:[e.jsx("h2",{children:"Selected Seats"}),e.jsx("div",{className:t.seatsList,children:c.map(s=>e.jsx("span",{className:t.seatBadge,children:s},s))})]}),e.jsxs("div",{className:t.summarySection,children:[e.jsx("h2",{children:"Passengers"}),e.jsx("div",{className:t.passengersList,children:d.map((s,i)=>e.jsxs("div",{className:t.passengerItem,children:[e.jsx("div",{className:t.passengerAvatar,children:((null==s?void 0:s.fullName)||"U")[0].toUpperCase()}),e.jsxs("div",{className:t.passengerInfo,children:[e.jsx("span",{className:t.passengerName,children:(null==s?void 0:s.fullName)||"N/A"}),(null==s?void 0:s.idNumber)&&e.jsxs("span",{className:t.passengerId,children:["ID: ",s.idNumber]})]}),e.jsxs("span",{className:t.passengerSeat,children:["Seat ",(null==s?void 0:s.seatNumber)||c[i]||"N/A"]})]},i))})]}),e.jsx(o,{basePrice:r.price,seatCount:c.length,totalPrice:h}),e.jsx("div",{className:t.bookingFooter,children:e.jsx(n,{onClick:()=>{l("/booking/payment")},children:"Continue to Payment"})})]})]})};export{h as default};
