import{u as a,r as e,l as s,a as r,b as t,S as i,j as n}from"./index-BKhXCF24.js";const o="_splashScreen_chkan_2",l="_splashContent_chkan_27",c="_logoContainer_chkan_37",h="_logoIcon_chkan_44",g="_logoText_chkan_61",d="_loadingIndicator_chkan_73",x="_loadingDots_chkan_80",u=["/onboarding","/get-started","/dashboard","/profile"],_=()=>{const _=a(),[m,p]=e.useState(!1),j=e.useCallback(()=>{try{const a=window.location.hash.substring(1);return new URLSearchParams(a)}catch(a){return s("Error parsing hash parameters",a),new URLSearchParams}},[]),f=e.useCallback(()=>{const a=j(),e=a.get("access_token"),s=a.get("type");return!(!e||"email"!==s)},[j]),b=e.useCallback(()=>{try{const a="true"===localStorage.getItem("gogobus_onboarding_complete"),e=localStorage.getItem("gogobus_last_screen");return a?"/get-started":e&&u.includes(`/${e}`)?`/${e}`:"/onboarding"}catch(a){return s("Error accessing localStorage",a),"/onboarding"}},[]),v=e.useCallback(()=>{if(!m)try{if(f())return void r("Email verification still in progress, skipping navigation");const a=b();p(!0),r(`Navigating to: ${a}`),_(a,{replace:!0})}catch(a){t("Navigation error",a),_("/onboarding",{replace:!0})}},[_,m,f,b]);return e.useEffect(()=>{if(f())return;const a=setTimeout(v,i);return()=>{clearTimeout(a)}},[v,f]),e.useEffect(()=>()=>{p(!1)},[]),n.jsx("div",{className:o,role:"main","aria-label":"GogoBus Loading Screen",children:n.jsxs("div",{className:l,children:[n.jsxs("div",{className:c,children:[n.jsx("div",{className:h,"aria-hidden":"true",children:n.jsxs("svg",{viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":"GogoBus Logo",children:[n.jsx("rect",{x:"8",y:"20",width:"6",height:"25",rx:"3",fill:"#F5A623"}),n.jsx("rect",{x:"18",y:"12",width:"6",height:"33",rx:"3",fill:"#F5A623"}),n.jsx("rect",{x:"28",y:"8",width:"6",height:"37",rx:"3",fill:"#F5A623"}),n.jsx("rect",{x:"38",y:"15",width:"6",height:"30",rx:"3",fill:"#F5A623"}),n.jsx("rect",{x:"48",y:"22",width:"6",height:"23",rx:"3",fill:"#F5A623"})]})}),n.jsx("h1",{className:g,children:"GOGOBUS"})]}),n.jsx("div",{className:d,"aria-live":"polite",children:n.jsxs("div",{className:x,children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})})]})})};export{_ as default};
